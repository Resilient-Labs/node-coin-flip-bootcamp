<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chau+Philomene+One&family=Faster+One&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Chau+Philomene+One&family=Faster+One&display=swap"
        rel="stylesheet">
    <title>Coin Flip</title>
</head>
<style>
    h1 {
        -webkit-text-stroke-width: 1px;
        -webkit-text-stroke-color: rgb(172, 131, 20);
        font-size: 70px;
        letter-spacing: 15px;
        margin-bottom: 0;
        font-family: 'Faster One', cursive;
    }

    header>p {
        font-family: 'Chau Philomene One', sans-serif;
        font-size: 30px;
        padding-bottom: 10px;
    }

    body {
        background-color: rgb(78, 55, 11);
        color: white;
        text-align: center;
    }

    header {
        margin-top: 10%;
    }

    #result {
        font-family: 'Chau Philomene One', sans-serif;
        font-size: 70px;
        margin-top: 4%;
        width: 23%;
        margin-left: auto;
        margin-right: auto;
        white-space: nowrap;
        border-right: solid white;
        overflow: hidden;
        animation:
            typing 2s steps(10, end),
            blink-caret 1.2s step-end infinite;
    }

    @keyframes typing {
        from {
            width: 0
        }
        to {
            width: 22%
        }
    }

    @keyframes blink-caret {
        from,
        to {
            border-color: transparent
        }
        10% {
            border-color: white
        }
    }

    .button {
        font-family: 'Chau Philomene One', sans-serif;
        font-size: 30px;
        box-shadow: 5px 10px rgb(172, 131, 20);
        border-radius: 50px;
        width: 100px;
        height: 100px;
        margin-right: 20px;
        background: rgb(255, 187, 0);
        color: rgb(73, 63, 6);
        border: none;
    }

    .button:hover {
        transform: scale(1.1);
    }

    .button:active {
        background-color: rgb(255, 187, 0);
        box-shadow: 0 5px #666;
        transform: translateY(4px);
    }

    @media screen and (max-width: 930px){

        #result {
        font-size: 60px;
        margin-top: 9%;
        width: 48%;
    }

    }
</style>

<body>
    <header>
        <h1>HEADS OR TAILS?</h1>
        <p>make a bet + flip a coin + face the consequences of your bet</p>
    </header>
    <button class="button" data-name="heads">heads</button>
    <button class="button" data-name="tails">tails</button>
    <p id="result"></p>

    <script type="text/javascript" src="/main.js">

        let button = document.querySelectorAll('.button')
        Array.from(button).forEach(function (element) {
            element.addEventListener('click', function () {
                const guess = this.getAttribute("data-name")
                fetch(`/api?guess=${guess}`)
                    .then(response => response.json())
                    .then((data) => {
                        document.querySelector('#result').innerText = data.result
                    });
            })
        })
    </script>

</body>
</html>